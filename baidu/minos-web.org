#+TITLE: Minos监控页面
#+DATE: 2014-04-23

今天（2014-04-23）有了改进Minos监控页面的想法，让Minos看起来炫酷一点，
顺带再次优化一下Minos的HTTP接口的性能。 决定周末抽时间搞一下。

* 资料搜集
** 类似网站
+ [[http://noah.baidu.com][Noah 平台]]
+ [[http://bp.baidu.com/introduction][Bigpipe平台]]
+ [[http://orp.baidu.com/omp/ui/index.html][OMP 百度在线运行维护平台]]
+ [[http://weblees.com/admin-dashboard-templates/][45 Powerful Admin Dashboard Templates for your Web Projects （个个都要钱）]]
+ [[http://lukemurphey.net/projects/django-splunk/wiki/Start_here][Django Monitoring (using Splunk)]]
+ 用Google搜索 "Django Dashboard" 的图片结果
+ [[http://vadimg.com/2013/02/bootstrap-admin-theme/][Bootstrap Admin Theme]]
+ [[http://www.cnblogs.com/analyzer/articles/3587054.html][50个高端大气上档次的管理后台界面模板]]

* 页面设计（按功能）
** 主页
要显示元素包括：
1. Minos系统的日志份数、机器数目和节点数目。
2. 迁移自LDM/Bigpipe的日志份数，还有迁移情况统计。
3. 当前系统的总体速度，传输的总体数据量等。
4. 链到其他常用操作的链接。

** 搜索
让用户快速地搜索到自己想查看的日志和产品线。会在导航栏提供一个恒定的 *
搜索框* ，提供智能搜索功能。具体特性包括：
1. 模糊匹配。
2. 列表展示。
3. Selection Narrowing

** 统计  
包括 *主页* 的所有内容，但是提供了 *分产品线* 和 *分日志* 统计
的功能。当统计范围锁定到单独一份日志时，该页面会展示出该日志传输流的更
详细的信息：
1. 参考LDM的 [[http://noah.baidu.com/ldm_cli/index.php?r%3DLog/Download/TaskList&id%3D10888&nodeId%3D1130&iDisplayStart%3D1&iDisplayLength%3D15][下载任务]] 页面。

** 日志传输查看
1. 日志传输列表。
2. 节点列表。
3. 传输流和节点的统计。

** 问题定位
1. 故障传输流列表
2. 故障节点的列表。
3. 故障传输流问题定位页面（ *让用户一看就能排查出问题* ）。
4. 故障节点问题定位页面（ *如果第一眼确实排查不出来问题，那么再到这个页面看
   第二眼* ）。
 
** Meta查看
主要用来查看云图。

** 消息发布/订阅和在线人数统计
1. 实时展示系统在线人数和列表。
2. 消息发布/订阅。如某人登录系统或创建/迁移日志，所有在线用户都会实时地
   知晓。
总之，是为了让让Minos监控页面更具有交互性。现在是2014年了，Web开发也要
跟上时代。
* 技术选型
** Web框架
+先选择Django+ ，原因如下：
1. 大小轮子很充足，能够最快速地搭建应用。
2. Python在百度较常见。
3. 我对PHP不熟。

后续可能会改成PHP，并且同DT的其他业务一样使用Yii框架。

无意中看到了Tornado，稍微了解了下，感觉很对我胃口。与它相比，Django太臃
肿了，很多功能我都用不上（如ORM, Admin等），而且还会在背后做一些奇怪的
事情（这点同Rails一样）。我对Web框架的需求其实就是一个url路由和模板渲染，
Tornado看起来非常趁手，于是决定用它了。

** 

   
